/*
The statistics chart is shown at the end of the game.

This stylesheet gets added with the Chartist stylesheet:
"node_modules/chartist/dist/index.scss"
*/

div#game-end-popup div#pie-chart-wrapper,
div.presentation-slide#slide-gameEnd-pie-charts {

    --color-answered-right: green;
    --color-answered-wrong-or-timed-out: red;
    --color-not-buzzed: gray;

    div#pie-charts {

        /* https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Grid_Layout */
        display: grid;

        /* this is hard coded for four teams, but the game actually supports up to eight teams */
        grid-template-columns: 1fr 1fr 1fr 1fr;

        div.team-pie-chart {
            padding: 10px;
            position: relative;
            text-align: center;
            /*center text align was not in operator*/

            /* All the ct-* stuff are SVG elements generated by Chartist */
            svg.ct-chart-donut {

                g.ct-series {
                    &.not-buzzed path.ct-slice-donut {
                        stroke: var(--color-not-buzzed);
                    }

                    &.buzzed-then-answered-right path.ct-slice-donut {
                        stroke: var(--color-answered-right);
                    }

                    &.buzzed-then-answered-wrong-or-timed-out path.ct-slice-donut {
                        stroke: var(--color-answered-wrong-or-timed-out);
                    }
                }

                text.ct-label {
                    fill: white;
                    stroke-width: 6px;
                    stroke: black;
                    paint-order: stroke;
                    font-size: 30px;
                }

                text.team-name {
                    fill: var(--text-color);
                }

            }
        }

    }

    div#pie-chart-legend {
        margin-top: 50px;

        div.pie-chart-legend-row {
            height: 30px;

            span.color-swatch {
                display: inline-block;
                width: 20px;
                height: 20px;
                vertical-align: middle;
            }

            &#not-buzzed span.color-swatch {
                background-color: var(--color-not-buzzed);
            }

            &#buzzed-then-answered-right span.color-swatch {
                background-color: var(--color-answered-right);
            }

            &#buzzed-then-answered-wrong-or-timed-out span.color-swatch {
                background-color: var(--color-answered-wrong-or-timed-out);
            }
        }
    }

}

/* ------------------------------------------------------------------------------- */

div#game-end-popup div#line-chart-wrapper,
div#slide-gameEnd-line-chart {

    /* All the ct-* stuff are SVG elements generated by Chartist */
    g.ct-series {

        &.horizontal-line-at-zero-dollars {
            path.ct-line {
                stroke: var(--zero-line-color);
                stroke-dasharray: 5;
            }

            line.ct-point {
                display: none;
            }
        }

        /* These colors sort of suck but currently they are shown on top of white AND blue,
        which make it hard to choose colors visible on both of those */
        &.team-1,
        &.team-5 {
            stroke: red;
        }

        &.team-2,
        &.team-6 {
            stroke: orange;
        }

        &.team-3,
        &.team-7 {
            stroke: green;
        }

        &.team-4,
        &.team-8 {
            stroke: gray;
        }

        &.team-5,
        &.team-6,
        &.team-7,
        &.team-8 {
            stroke-dasharray: 5;
            stroke-linecap: butt;
        }
    }


    div#line-chart {
        display: inline-block;
        vertical-align: middle;

        svg.ct-chart-line {
            g.ct-grids line {
                stroke: var(--grid-line-color);
                stroke-dasharray: 3;
            }

            g.ct-labels span {
                color: var(--text-color);
            }
        }
    }

    div#y-axis-label {
        transform: rotate(-90deg);
        display: inline-block;
    }

    div#x-axis-label {
        text-align: center;
    }

    div#line-chart-legend {
        display: inline-block;
        vertical-align: middle;
        margin-left: 30px;

        div.line-chart-legend-row {
            margin-bottom: 20px;
        }

        svg {
            vertical-align: middle;
            margin-right: 10px;
        }
    }

}