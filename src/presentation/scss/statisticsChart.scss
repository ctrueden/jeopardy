/*
This stylesheet gets added with the Chartist stylesheet:
"bower_components/chartist/dist/scss/chartist.scss"
or
"bower_components/chartist/dist/chartist.min.css"
*/

div.presentation-slide#slide-gameEnd-pie-charts {
    div#pie-charts {
        // https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Grid_Layout
        display: grid;
        grid-template-columns: 1fr 1fr 1fr 1fr;

        div.team-pie-chart {
            padding: 10px;
            position: relative;

            svg.ct-chart-donut {
                g.ct-series {
                    &.not-buzzed path.ct-slice-donut {
                        stroke: gray;
                    }
                    &.buzzed-then-answered-right path.ct-slice-donut {
                        stroke: green;
                    }
                    &.buzzed-then-answered-wrong-or-timed-out path.ct-slice-donut {
                        stroke: red;
                    }
                }

                .ct-label {
                    fill: white;
                    stroke-width: 6px;
                    stroke: black;
                    paint-order: stroke;
                    font-size: 30px;
                }
            }

            div.chart-title {
                // https://stackoverflow.com/a/23703655
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translateX(-50%) translateY(-50%);
            }
        }
    }

    div#pie-chart-legend {
        margin-top: 50px;

        div.pie-legend-row {
            height: 30px;

            span.color-swatch {
                display: inline-block;
                width: 20px;
                height: 20px;
                vertical-align: middle;
            }

            &#not-buzzed span.color-swatch {
                background-color: gray;
            }
            &#buzzed-then-answered-right span.color-swatch {
                background-color: green;
            }
            &#buzzed-then-answered-wrong-or-timed-out span.color-swatch {
                background-color: red;
            }
        }
    }
}

div#slide-gameEnd-line-chart {
    div#y-axis-label {
        transform: translate(-20px, 250px) rotate(-90deg);
        display: inline-block;
    }

    div#x-axis-label {
        text-align: center;
    }

    svg.ct-chart-line {
        g.ct-grids line {
            stroke: white;
        }
        g.ct-labels span {
            color: white;
        }

        g.ct-series {
            path.ct-line {
                fill: none;
                stroke-width: 4px;
            }

            line.ct-point {
                stroke-width: 10px;
                stroke-linecap: round;
            }

            $series-colors: red, orange, green, gray;
            $team-count: 8;

            @for $i from 0 to $team-count {
                &.team-#{$i + 1} {
                    stroke: nth($series-colors, ($i % length($series-colors)) + 1);

                    @if $i >= length($series-colors) {
                        stroke-dasharray: 5;
                        stroke-linecap: butt;
                    }
                }
            }
        }
    }
}
